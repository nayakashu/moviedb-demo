(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},107:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(26),c=a.n(i),l=a(2),s=a(3),r=a(5),m=a(4),u=a(6),p=a(7),d=a(14),v=a(15),E=a(40),f=a(8),O={topMovies:null,userMovies:null},N={loginModalOpen:!1,addMovieModalOpen:!1,modalType:null,modalMessge:null},h={leftNavOpen:!1,activePage:"/",isUserLoggedIn:!1},g=Object(v.c)({movieListState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TOP_MOVIES":return Object(f.a)({},e,{topMovies:t.payload});case"FETCH_USER_MOVIES":return Object(f.a)({},e,{userMovies:t.payload});default:return e}},modalState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_LOGIN_FORM":return Object(f.a)({},e,{loginModalOpen:!0});case"CLOSE_LOGIN_FORM":return Object(f.a)({},e,{loginModalOpen:!1});case"OPEN_ADD_MOVIE":return Object(f.a)({},e,{addMovieModalOpen:!0});case"CLOSE_ADD_MOVIE":return Object(f.a)({},e,{addMovieModalOpen:!1});case"SHOW_NOTIFICATION":return Object(f.a)({},e,{modalMessage:t.payload.message,modalType:t.payload.type});case"HIDE_NOTIFICATION":return Object(f.a)({},e,{modalMessage:null,modalType:null});default:return e}},navState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_LEFT_NAV":return Object(f.a)({},e,{leftNavOpen:!0});case"CLOSE_LEFT_NAV":return Object(f.a)({},e,{leftNavOpen:!1});case"TOGGLE_LEFT_NAV":return Object(f.a)({},e,{leftNavOpen:!e.leftNavOpen});case"SET_ACTIVE_PAGE":return Object(f.a)({},e,{activePage:t.payload});case"SET_USER_LOGIN":return Object(f.a)({},e,{isUserLoggedIn:!0});default:return e}}}),b=[E.a],y=Object(v.e)(g,{},window.__REDUX_DEVTOOLS_EXTENSION__?Object(v.d)(v.a.apply(void 0,b),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():null):v.a.apply(void 0,b)),M=(a(54),function(e,t){return function(a){a({type:"SHOW_NOTIFICATION",payload:{message:e,type:t}})}}),_=function(){return function(e){e({type:"CLOSE_LEFT_NAV"})}},j=function(){return function(e){e({type:"SET_ACTIVE_PAGE",payload:window.location.hash})}},S=(a(55),function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=o.a.createElement("span",null,o.a.createElement("button",{className:"btn-add",onClick:this.props.openAddMovie},o.a.createElement("i",{className:"material-icons menu-icon"},"add"),"Add Movie"),o.a.createElement("img",{className:"avatar-img",src:"http://www.gravatar.com/avatar/4986132725905e951d64a41340178e63?s=200&r=pg&d=mm",alt:"User Avatar"})),t=o.a.createElement("span",null,o.a.createElement("button",{className:"btn-login",onClick:this.props.openLoginForm},"Login"),o.a.createElement("button",{className:"btn-signup"},"Sign Up"));return o.a.createElement("div",{className:"header-container"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row main-menu"},o.a.createElement("div",{className:"col-sm-3 logo-div"},o.a.createElement("i",{className:"material-icons menu-icon",onClick:this.props.toggleLeftNav},"menu"),o.a.createElement("span",{className:"logo"},o.a.createElement("i",{className:"material-icons menu-icon"},"timeline"),o.a.createElement("span",{className:"logo-text"},"MovieHunt"))),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement("ul",{className:"menu-items"},o.a.createElement(d.b,{to:"/"},o.a.createElement("li",{className:"#/"===this.props.activePage?"active":""},"Top Rated")),o.a.createElement(d.b,{to:"/mymovies"},o.a.createElement("li",{className:"#/mymovies"===this.props.activePage?"active":""},"My Movies")),o.a.createElement("li",null,"Discover"))),o.a.createElement("div",{className:"col-sm-3 login-section"},this.props.isUserLoggedIn?e:t))))}}]),t}(n.Component)),T=Object(p.b)(function(e){return{activePage:e.navState.activePage,isUserLoggedIn:e.navState.isUserLoggedIn}},{openLoginForm:function(){return function(e){e({type:"OPEN_LOGIN_FORM"})}},toggleLeftNav:function(){return function(e){e({type:"TOGGLE_LEFT_NAV"})}},openAddMovie:function(){return function(e){e({type:"OPEN_ADD_MOVIE"})}}})(S),I=a(16),L=(a(63),a(29)),w=a.n(L),C="https://api.themoviedb.org/3/movie/",A="4f4f0d30ce7338e679e02e58c211e9bb",k={FETCH_TOP_MOVIES:"".concat(C,"top_rated?api_key=").concat(A,"&page=1"),FETCH_MOVIE_DETAILS:"".concat(C,"<MOVIE_ID>?api_key=").concat(A,"&page=1")},D={SUCCESS:"success",DANGER:"danger"},F=function(e){var t=e.map(function(e){return w.a.get(k.FETCH_MOVIE_DETAILS.replace("<MOVIE_ID>",e))});return Promise.all(t)},V=function(e){return function(t){try{var a=localStorage.getItem("mymovies");a||(a=JSON.stringify([238,497,517814,40096,539]),localStorage.setItem("mymovies",a));var n=JSON.parse(a);n.indexOf(e)<0&&(n.push(e),localStorage.setItem("mymovies",JSON.stringify(n))),F(n).then(function(e){return t({type:"FETCH_USER_MOVIES",payload:e})})}catch(o){}}},P=(a(83),a(84),function(e){return function(t){function a(){return Object(l.a)(this,a),Object(r.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,t),Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"modal-overlay"},o.a.createElement("div",{className:"modal-content"},o.a.createElement(e,null)))}}]),a}(n.Component)}),U=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).performUserLogin=function(){a.props.setUserLogin(),a.props.closeLoginForm()},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"login-form"},o.a.createElement("span",{className:"logo"},o.a.createElement("i",{className:"material-icons"},"timeline"),o.a.createElement("span",{className:"logo-text"},"MovieHunt")),o.a.createElement("i",{className:"material-icons btn-close",onClick:this.props.closeLoginForm},"close"),o.a.createElement("form",null,o.a.createElement("input",{type:"text",placeholder:"Username"}),o.a.createElement("input",{type:"password",placeholder:"Password"}),o.a.createElement("button",{className:"btn-login",onClick:this.performUserLogin},"Login")),o.a.createElement("div",{className:"forgot-pass-legend"},o.a.createElement("span",{className:"signup-link"},"Don't have an account? ",o.a.createElement("a",{href:"/#/"},"Sign up")),o.a.createElement("span",{className:"recover-pass"},"Recover password")))}}]),t}(n.Component),x=P(Object(p.b)(null,{closeLoginForm:function(){return function(e){e({type:"CLOSE_LOGIN_FORM"})}},setUserLogin:function(){return function(e){e({type:"SET_USER_LOGIN"})}}})(U)),R=a(42),H=a.n(R),G=(a(98),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).addMovieToList=function(e){a.props.addNewMovie(e),a.props.showNotification("Movie was added successfully",D.SUCCESS)},a.deleteMovie=function(e){a.props.deleteMovie(e),a.props.showNotification("Movie was deleted successfully",D.DANGER)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"sliceDesc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:85;return e&&e.length>t?e.slice(0,t)+" ...":e}},{key:"render",value:function(){var e=this,t=this.props.movieDetails;return t?o.a.createElement("div",{className:"movie-tile"},o.a.createElement("span",{className:"popularity"},Math.round(t.popularity),"%",o.a.createElement("span",{className:"bottom-border"})),this.props.editable?o.a.createElement("i",{className:"material-icons ellipsis",onClick:function(){return e.deleteMovie(t.id)}},"close"):o.a.createElement("i",{className:"material-icons btn-like",onClick:function(){e.props.isAdded?e.deleteMovie(t.id):e.addMovieToList(t.id)}},this.props.isAdded?"favorite":"favorite_border"),o.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/"+t.poster_path,alt:t.title}),o.a.createElement("div",{className:"movie-details"},o.a.createElement("h4",null,this.sliceDesc(t.title,30)),o.a.createElement("div",{className:"release-date"},t.release_date),o.a.createElement("div",{className:"description"},this.sliceDesc(t.overview)))):null}}]),t}(n.Component)),J=Object(p.b)(null,{addNewMovie:V,deleteMovie:function(e){return function(t){try{var a=localStorage.getItem("mymovies");a||(a=JSON.stringify([238,497,517814,40096,539]),localStorage.setItem("mymovies",a));var n=JSON.parse(a),o=n.indexOf(e);o>-1&&n.splice(o,1),localStorage.setItem("mymovies",JSON.stringify(n)),F(n).then(function(e){return t({type:"FETCH_USER_MOVIES",payload:e})})}catch(i){}}},showNotification:M})(G),X=(a(99),a(43)),W=a.n(X);function B(){return o.a.createElement("div",{className:"loader-container"},o.a.createElement("img",{src:W.a,alt:""}))}a(100);var $=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.closeLeftNav(),this.props.setActivePage()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"top-rated-movies"},o.a.createElement("h3",null,"Top Rated Movies"),this.props.topMovies?null:o.a.createElement(B,null),o.a.createElement("div",{className:"row"},this.props.topMovies&&this.props.topMovies.map(function(t){return o.a.createElement("div",{className:"col-sm-4 col-xs-6",key:t.id},o.a.createElement(J,{movieDetails:t,isAdded:(a=t.id,n=e.props.userMovies,!!n&&n.some(function(e){return e.data.id===a}))}));var a,n})))}}]),t}(n.Component),q=Object(p.b)(function(e){return{topMovies:e.movieListState.topMovies,userMovies:e.movieListState.userMovies}},{closeLeftNav:_,setActivePage:j})($),z=(a(101),function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.closeLeftNav(),this.props.setActivePage()}},{key:"render",value:function(){return o.a.createElement("div",{className:"top-rated-movies"},o.a.createElement("h3",null,"My Movies"),this.props.userMovies?null:o.a.createElement(B,null),o.a.createElement("div",{className:"row"},this.props.userMovies&&this.props.userMovies.map(function(e,t){return o.a.createElement("div",{className:"col-sm-4 col-xs-6",key:t},o.a.createElement(J,{movieDetails:e&&e.data,editable:!0}))})))}}]),t}(n.Component)),K=Object(p.b)(function(e){return{userMovies:e.movieListState.userMovies}},{closeLeftNav:_,setActivePage:j})(z),Q=(a(102),function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"left-nav-container"},o.a.createElement("i",{className:"material-icons left-nav-close",onClick:this.props.closeLeftNav},"close"),o.a.createElement("ul",{className:"left-nav-menu"},o.a.createElement("li",null,o.a.createElement(d.b,{to:"/"},o.a.createElement("i",{className:"material-icons"},"movie"),"Top Movies")),o.a.createElement("li",null,o.a.createElement(d.b,{to:"/mymovies"},o.a.createElement("i",{className:"material-icons"},"person")," My Movies")),o.a.createElement("li",null,o.a.createElement("i",{className:"material-icons"},"settings"),"Settings")))}}]),t}(n.Component)),Y=Object(p.b)(null,{closeLeftNav:_})(Q),Z=(a(103),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(r.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).addMovie=function(){a.props.closeAddMovie(),a.props.showNotification("New movie added successfully",D.SUCCESS),window.location="#/mymovies",a.props.addNewMovie(12477)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"login-form"},o.a.createElement("span",{className:"logo"},o.a.createElement("i",{className:"material-icons"},"timeline"),o.a.createElement("span",{className:"logo-text"},"Add Movie")),o.a.createElement("i",{className:"material-icons btn-close",onClick:this.props.closeAddMovie},"close"),o.a.createElement("form",null,o.a.createElement("input",{type:"text",placeholder:"Movie Title"}),o.a.createElement("input",{type:"text",placeholder:"Casts"}),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 icon-overlay"},o.a.createElement("input",{type:"text",placeholder:"Date of Launch"}),o.a.createElement("i",{className:"material-icons"},"date_range")),o.a.createElement("div",{className:"col-sm-6 icon-overlay"},o.a.createElement("input",{type:"text",placeholder:"Movie Poster"}),o.a.createElement("i",{className:"material-icons"},"cloud_upload"))),o.a.createElement("textarea",{className:"txt-movie-desc",placeholder:"Movie overview"}),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6"},o.a.createElement("button",{className:"btn-cancel",onClick:this.props.closeAddMovie},"Cancel")),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement("button",{className:"btn-login",onClick:this.addMovie},"Add Movie")))))}}]),t}(n.Component)),ee=P(Object(p.b)(null,{closeAddMovie:function(){return function(e){e({type:"CLOSE_ADD_MOVIE"})}},showNotification:M,addNewMovie:V})(Z)),te=a(44),ae=a.n(te),ne=(a(104),function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.props.hideNotification()},2e3)}},{key:"render",value:function(){var e=ae()("notif-container",this.props.type);return o.a.createElement("div",{className:e},o.a.createElement("div",{className:"notif-message"},o.a.createElement("i",{className:"material-icons icon-notif"},"notifications"),this.props.message),o.a.createElement("i",{className:"material-icons btn-close",onClick:this.props.hideNotification},"close"))}}]),t}(n.Component)),oe=Object(p.b)(null,{hideNotification:function(){return function(e){e({type:"HIDE_NOTIFICATION"})}}})(ne),ie=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(r.a)(this,Object(m.a)(t).call(this,e))).props.fetchTopMovies(),a.props.fetchMyMovies(),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.loginModalOpen?o.a.createElement(x,null):null,t=this.props.addMovieModalOpen?o.a.createElement(ee,null):null,a=this.props.leftNavOpen?o.a.createElement(Y,null):null,n=this.props.modalMessage?o.a.createElement(oe,{type:this.props.modalType,message:this.props.modalMessage}):null;return o.a.createElement("div",{className:"container"},o.a.createElement(I.a,{exact:!0,path:"/",component:q}),o.a.createElement(I.a,{exact:!0,path:"/mymovies",component:K}),o.a.createElement(H.a,{transitionName:"login-tran",transitionEnterTimeout:500,transitionLeaveTimeout:300},e,a,t,n))}}]),t}(n.Component),ce=Object(p.b)(function(e){return{loginModalOpen:e.modalState.loginModalOpen,addMovieModalOpen:e.modalState.addMovieModalOpen,leftNavOpen:e.navState.leftNavOpen,modalMessage:e.modalState.modalMessage,modalType:e.modalState.modalType}},{fetchTopMovies:function(){return function(e){w.a.get(k.FETCH_TOP_MOVIES).then(function(t){e({type:"FETCH_TOP_MOVIES",payload:t&&t.data&&t.data.results})})}},fetchMyMovies:function(){return function(e){try{var t=localStorage.getItem("mymovies");t||(t=JSON.stringify([238,497,517814,40096,539]),localStorage.setItem("mymovies",t));var a=JSON.parse(t);F(a).then(function(t){return e({type:"FETCH_USER_MOVIES",payload:t})})}catch(n){}}}})(ie),le=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(p.a,{store:y},o.a.createElement(d.a,null,o.a.createElement("div",{className:"app"},o.a.createElement(T,null),o.a.createElement(ce,null))))}}]),t}(n.Component);a(105),a(106),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},43:function(e,t,a){e.exports=a.p+"static/media/loader.e669f44d.svg"},45:function(e,t,a){e.exports=a(107)},54:function(e,t,a){},55:function(e,t,a){},63:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[45,1,2]]]);
//# sourceMappingURL=main.ce895da2.chunk.js.map